<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BossBand ‚Äì VIP –ó–≤—ë–∑–¥—ã</title>
  <style>
    :root {
      --primary: #6e45e2; --accent: #ff6b6b; --neon: #00f3ff;
      --bg-dark: #0f0f1a; --bg-light: #f8f9fa; --color-dark: #1a1a2e;
    }
    body {
      margin:0; padding:0; font-family:'Montserrat',sans-serif;
      background:var(--bg-dark); color:var(--bg-light);
      min-height:100vh;
      transition:background 0.3s,color 0.3s;
    }
    body.light {
      background:var(--bg-light); color:var(--color-dark);
    }
    .container{max-width:1000px;margin:0 auto;padding:20px;}
    header{display:flex;justify-content:space-between;align-items:center;}
    .logo{font-size:2.2rem;font-weight:800;background:linear-gradient(to right,var(--neon),var(--primary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    nav a{margin-left:20px;text-decoration:none;color:inherit;}
    .btn{background:linear-gradient(135deg,var(--accent),var(--primary));padding:10px 20px;border:none;color:#fff;border-radius:50px;cursor:pointer;transition:transform .2s;}
    .btn:hover{transform:translateY(-3px);}
    .form-group{margin-bottom:15px;}
    input[type=email],input[type=password],input[type=text]{width:100%;padding:12px;border-radius:5px;border:none;margin-top:5px;background:rgba(255,255,255,0.1);color:inherit;}
    .light input[type=email],.light input[type=password],.light input[type=text]{background:rgba(0,0,0,0.05);}
    .error{color:var(--accent);display:none;margin:10px 0;}
    .success{color:var(--neon);display:none;margin:10px 0;}
    .theme-toggle{cursor:pointer;font-size:1.2rem;}
    .captcha{margin:15px 0;}
    #cameraPreview{width:300px;height:400px;display:none;margin:15px auto;border:2px solid var(--neon);}
    #cameraPreview.active{display:block;}
    .google-btn{margin-top:20px;display:flex;justify-content:center;}
    .language-selector{margin-left:20px;cursor:pointer;}
    .hidden{display:none;}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">BOSS BAND</div>
      <div>
        <a href="#" data-i18n="home">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="#" data-i18n="about">–û –Ω–∞—Å</a>
        <a href="#" data-i18n="contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        <select class="language-selector" id="languageSelector">
          <option value="ru">–†—É—Å—Å–∫–∏–π</option>
          <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
          <option value="en">English</option>
        </select>
        <span class="theme-toggle" id="toggleTheme">üåì</span>
      </div>
    </header>

    <main>
      <h1 data-i18n="get_vip">–ü–û–õ–£–ß–ò–¢–ï –≠–ö–°–ö–õ–Æ–ó–ò–í–ù–´–ï VIP –ó–í–Å–ó–î–´</h1>
      <p data-i18n="registration_desc">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Google, –∫–∞–º–µ—Ä–∞, –≥–µ–æ, CAPTCHA</p>

      <!-- –¢–∞–±—ã -->
      <div style="margin:20px 0;">
        <button class="btn" id="tabReg" data-i18n="registration">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        <button class="btn" id="tabVer" data-i18n="verification">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</button>
      </div>

      <!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
      <div id="regForm">
        <div class="form-group"><label data-i18n="email">Email</label><input type="email" id="regEmail" required></div>
        <div class="form-group"><label data-i18n="password">–ü–∞—Ä–æ–ª—å</label><input type="password" id="regPass" required></div>
        <div class="form-group"><label data-i18n="nickname">–ù–∏–∫</label><input type="text" id="regNick"></div>
        <div class="captcha">
          <label data-i18n="captcha_question">–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 7 + 5? <input type="text" id="captchaInput" required></label>
        </div>
        <div class="error" id="regError"></div>
        <div class="success" id="regSuccess" data-i18n="reg_success">‚úîÔ∏è –£—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã!</div>
        <button class="btn" id="btnReg" data-i18n="register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
      </div>

      <!-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
      <div id="verForm" class="hidden">
        <div class="form-group"><label data-i18n="email">Email</label><input type="email" id="verEmail" required></div>
        <div class="form-group"><label data-i18n="password">–ü–∞—Ä–æ–ª—å</label><input type="password" id="verPass" required></div>
        <div class="form-group"><label data-i18n="telegram_nick">Telegram-–Ω–∏–∫</label><input type="text" id="verTg"></div>
        <div class="captcha">
          <label data-i18n="captcha_question2">–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 4 + 6? <input type="text" id="captchaVer" required></label>
        </div>
        <div class="error" id="verError"></div>
        <div class="success" id="verSuccess" data-i18n="ver_success">‚úîÔ∏è –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!</div>
        <button class="btn" id="btnVer" data-i18n="verify">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å</button>
        <div id="cameraPreview"><video id="cameraVideo" width="300" height="400" autoplay></video></div>
      </div>
      
      <!-- –ö–Ω–æ–ø–∫–∞ Google -->
      <div class="google-btn">
        <div id="g_id_onload"
             data-client_id="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com"
             data-context="signin"
             data-callback="handleGoogle"
             data-auto_prompt="false">
        </div>
        <div class="g_id_signin" data-type="standard" data-shape="pill" data-theme="filled_blue" data-text="signin_with" data-size="large"></div>
      </div>
    </main>
  </div>

  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–∑—ã–∫–æ–≤
    const translations = {
      ru: {
        home: "–ì–ª–∞–≤–Ω–∞—è",
        about: "–û –Ω–∞—Å",
        contacts: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
        get_vip: "–ü–û–õ–£–ß–ò–¢–ï –≠–ö–°–ö–õ–Æ–ó–ò–í–ù–´–ï VIP –ó–í–Å–ó–î–´",
        registration_desc: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Google, –∫–∞–º–µ—Ä–∞, –≥–µ–æ, CAPTCHA",
        registration: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
        verification: "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ",
        email: "Email",
        password: "–ü–∞—Ä–æ–ª—å",
        nickname: "–ù–∏–∫",
        telegram_nick: "Telegram-–Ω–∏–∫",
        captcha_question: "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 7 + 5?",
        captcha_question2: "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 4 + 6?",
        register: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",
        verify: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å",
        reg_success: "‚úîÔ∏è –£—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã!",
        ver_success: "‚úîÔ∏è –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!",
        reg_error: "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—è –∏ CAPTCHA",
        ver_error: "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—è –∏ CAPTCHA",
        google_error: "–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Google"
      },
      uk: {
        home: "–ì–æ–ª–æ–≤–Ω–∞",
        about: "–ü—Ä–æ –Ω–∞—Å",
        contacts: "–ö–æ–Ω—Ç–∞–∫—Ç–∏",
        get_vip: "–û–¢–†–ò–ú–ê–ô–¢–ï –ï–ö–°–ö–õ–Æ–ó–ò–í–ù–Ü VIP –ó–Ü–†–ö–ò",
        registration_desc: "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ—Å–æ–±–∏ —á–µ—Ä–µ–∑ Google, –∫–∞–º–µ—Ä–∞, –≥–µ–æ, CAPTCHA",
        registration: "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è",
        verification: "–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è",
        email: "Email",
        password: "–ü–∞—Ä–æ–ª—å",
        nickname: "–ù—ñ–∫",
        telegram_nick: "Telegram-–Ω—ñ–∫",
        captcha_question: "–°–∫—ñ–ª—å–∫–∏ –±—É–¥–µ 7 + 5?",
        captcha_question2: "–°–∫—ñ–ª—å–∫–∏ –±—É–¥–µ 4 + 6?",
        register: "–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è",
        verify: "–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –æ—Å–æ–±—É",
        reg_success: "‚úîÔ∏è –£—Å–ø—ñ—à–Ω–æ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ!",
        ver_success: "‚úîÔ∏è –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!",
        reg_error: "–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ–ª—è —Ç–∞ CAPTCHA",
        ver_error: "–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ–ª—è —Ç–∞ CAPTCHA",
        google_error: "–ü–æ–º–∏–ª–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ Google"
      },
      en: {
        home: "Home",
        about: "About",
        contacts: "Contacts",
        get_vip: "GET EXCLUSIVE VIP STARS",
        registration_desc: "Registration and identity verification via Google, camera, geo, CAPTCHA",
        registration: "Registration",
        verification: "Verification",
        email: "Email",
        password: "Password",
        nickname: "Nickname",
        telegram_nick: "Telegram nick",
        captcha_question: "What is 7 + 5?",
        captcha_question2: "What is 4 + 6?",
        register: "Register",
        verify: "Verify identity",
        reg_success: "‚úîÔ∏è Successfully registered!",
        ver_success: "‚úîÔ∏è Verification sent!",
        reg_error: "Check fields and CAPTCHA",
        ver_error: "Check fields and CAPTCHA",
        google_error: "Google authorization error"
      }
    };

    // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —è–∑—ã–∫–∞
    function setLanguage(lang) {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });
      localStorage.setItem('language', lang);
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
    document.getElementById('toggleTheme').onclick = () => {
      document.body.classList.toggle('light');
      localStorage.setItem('theme', document.body.classList.contains('light') ? 'light' : 'dark');
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã
    if (localStorage.getItem('theme') === 'light') {
      document.body.classList.add('light');
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–∑—ã–∫–∞
    const savedLanguage = localStorage.getItem('language') || 'ru';
    document.getElementById('languageSelector').value = savedLanguage;
    setLanguage(savedLanguage);

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
    document.getElementById('languageSelector').onchange = (e) => {
      setLanguage(e.target.value);
    };

    // –¢–∞–±—ã
    document.getElementById('tabReg').onclick = () => {
      document.getElementById('regForm').classList.remove('hidden');
      document.getElementById('verForm').classList.add('hidden');
    };
    
    document.getElementById('tabVer').onclick = () => {
      document.getElementById('regForm').classList.add('hidden');
      document.getElementById('verForm').classList.remove('hidden');
    };

    // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    ['regEmail','regPass','verEmail','verPass','verTg','regNick'].forEach(id => {
      const el = document.getElementById(id);
      if (el) {
        el.value = localStorage.getItem(id) || '';
        el.oninput = () => localStorage.setItem(id, el.value);
      }
    });

    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
    document.getElementById('btnReg').onclick = async () => {
      const e = document.getElementById('regEmail').value;
      const p = document.getElementById('regPass').value;
      const n = document.getElementById('regNick').value;
      const c = document.getElementById('captchaInput').value;
      
      const regError = document.getElementById('regError');
      const regSuccess = document.getElementById('regSuccess');
      
      if (!e || !p || c !== '12') {
        regError.textContent = translations[localStorage.getItem('language') || 'ru'].reg_error;
        regError.style.display = 'block';
        regSuccess.style.display = 'none';
        return;
      }
      
      regError.style.display = 'none';
      
      // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
      console.log('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:', { email: e, password: p, nickname: n });
      
      regSuccess.style.display = 'block';
      setTimeout(() => {
        regSuccess.style.display = 'none';
      }, 3000);
    };

    // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    document.getElementById('btnVer').onclick = async () => {
      const e = document.getElementById('verEmail').value;
      const p = document.getElementById('verPass').value;
      const tg = document.getElementById('verTg').value;
      const c = document.getElementById('captchaVer').value;
      
      const verError = document.getElementById('verError');
      const verSuccess = document.getElementById('verSuccess');
      
      if (!e || !p || c !== '10') {
        verError.textContent = translations[localStorage.getItem('language') || 'ru'].ver_error;
        verError.style.display = 'block';
        verSuccess.style.display = 'none';
        return;
      }
      
      verError.style.display = 'none';
      
      // –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
      let geo = translations[localStorage.getItem('language') || 'ru'].no_geo;
      try {
        await new Promise((resolve, reject) => {
          navigator.geolocation.getCurrentPosition(
            pos => {
              geo = `${pos.coords.latitude},${pos.coords.longitude}`;
              resolve();
            },
            () => {
              geo = translations[localStorage.getItem('language') || 'ru'].no_geo;
              resolve();
            }
          );
        });
      } catch (e) {
        console.error('Geolocation error:', e);
      }
      
      // –ö–∞–º–µ—Ä–∞
      const cameraPreview = document.getElementById('cameraPreview');
      const cameraVideo = document.getElementById('cameraVideo');
      
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        cameraVideo.srcObject = stream;
        cameraPreview.classList.add('active');
        
        await new Promise(resolve => setTimeout(resolve, 3000));
        
        const canvas = document.createElement('canvas');
        canvas.width = 300;
        canvas.height = 400;
        canvas.getContext('2d').drawImage(cameraVideo, 0, 0);
        
        // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ
        console.log('–§–æ—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ');
        
        stream.getTracks().forEach(track => track.stop());
        cameraPreview.classList.remove('active');
      } catch (error) {
        console.error('Camera error:', error);
      }
      
      // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
      console.log('–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:', { email: e, password: p, telegram: tg, geo });
      
      verSuccess.style.display = 'block';
      setTimeout(() => {
        verSuccess.style.display = 'none';
      }, 3000);
    };

    // Google OAuth
    function handleGoogle(response) {
      try {
        // –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ JWT
        const payload = JSON.parse(atob(response.credential.split('.')[1]));
        console.log('Google auth success:', payload);
        
        // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        alert(`${translations[localStorage.getItem('language') || 'ru'].reg_success} —á–µ—Ä–µ–∑ Google: ${payload.email}`);
      } catch (error) {
        console.error('Google auth error:', error);
        document.getElementById('regError').textContent = translations[localStorage.getItem('language') || 'ru'].google_error;
        document.getElementById('regError').style.display = 'block';
      }
    }
  </script>
</body>
</html>